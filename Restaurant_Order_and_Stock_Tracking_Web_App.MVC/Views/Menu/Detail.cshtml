@model Restaurant_Order_and_Stock_Tracking_Web_App.MVC.Models.MenuItem
@{
    ViewData["Title"] = Model.MenuItemName + " — Detay";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

@section Styles {
    <link href="~/css/Views/Menu/Detail.css" rel="stylesheet" asp-append-version="true" />
}

<div class="page-header">
    <div>
        <h1 class="page-title">🍽️ @Model.MenuItemName</h1>
        <div class="page-subtitle">Ürün Detayı • #@Model.MenuItemId</div>
    </div>
    <div style="display:flex;gap:.6rem;">
        <a asp-action="Index" class="btn btn-ghost">← Menü</a>
        <a asp-action="Edit" asp-route-id="@Model.MenuItemId" class="btn btn-edit">✏️ Düzenle</a>
    </div>
</div>

<div class="detail-grid">
    <div class="detail-card">
        <div class="info-label">Fiyat</div>
        <div class="price-big">₺@Model.MenuItemPrice.ToString("N2")</div>
    </div>

    <div class="detail-card">
        <div class="info-label">Kategori</div>
        <div class="info-value" style="margin-top:.3rem;">
            <span class="pill pill-indigo">@Model.Category?.CategoryName</span>
        </div>
    </div>

    <div class="detail-card">
        <div class="info-label">Satış Durumu</div>
        <div style="margin-top:.4rem;">
            @if (Model.IsAvailable)
            {
                <span class="pill pill-green">✓ Satışa Açık</span>
            }
            else
            {

                <span class="pill pill-red">✗ Satışa Kapalı</span>
            }
        </div>
    </div>

    <div class="detail-card">
        <div class="info-label">Stok</div>
        <div style="margin-top:.4rem;">
            @if (Model.TrackStock)
            {
                <span class="pill @(Model.StockQuantity < 5 ? "pill-red" : Model.StockQuantity < 15 ? "pill-amber" : "pill-green")">
                    @Model.StockQuantity adet
                </span>
            }
            else
            {
                <span style="opacity:.4;">Stok takibi yok</span>
            }
        </div>
    </div>

    <div class="detail-card">
        <div class="info-label">Eklenme Tarihi</div>
        <div class="info-value">@Model.MenuItemCreatedTime.ToLocalTime().ToString("dd MMM yyyy HH:mm")</div>
    </div>

    <div class="detail-card">
        <div class="info-label">Stok Takibi</div>
        <div style="margin-top:.4rem;">
            @if (Model.TrackStock)
            {
                <span class="pill pill-green">Aktif</span>
            }
            else
            {

                <span class="pill pill-red">Pasif</span>
            }
        </div>
    </div>

    @if (!string.IsNullOrWhiteSpace(Model.Description))
    {
        <div class="detail-card detail-card-wide">
            <div class="info-label">Açıklama</div>
            <div class="desc-box">@Model.Description</div>
        </div>
    }
</div>
